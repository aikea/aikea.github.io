{{/*
  <!-- with is great when the output depends on a parameter being set:
    {{ with .Get "class" }} class="{{ . }}"{{ end }} -->
    <!-- Accessing the Page Parameter bar defined in a piece of content’s front matter.
      {{ .Params.bar }} -->
      <!-- useful only for calling internal templates. The syntax is {{ template "_internal/<TEMPLATE>.<EXTENSION>" . }}.   -->
        <h4>Upcoming Events</h4>
<ul class="upcoming-events">
{{ range where .Pages.ByDate "Section" "events" }}
    {{ if ge .Date.Unix now.Unix }}
        <li>
        <!-- add span for event type -->
          <span>{{ .Type | title }} —</span>
          {{ .Title }} on
        <!-- add span for event date -->
          <span>{{ .Date.Format "2 January at 3:04pm" }}</span>
          at {{ .Params.place }}
        </li>
    {{ end }}
{{ end }}
</ul>
  */}}

<!-- TODO: Add a serial number -->
<div class="movie-card">
  <!-- Title -->
  <div class="title">
  {{ with .Params.Title }}
  {{ . }}
  {{ end }}
  </div>

  <div class="info">
    {{ with .Params.Dir }}
    <span class="director">Director: {{ . }} | </span>  
    {{ end }}
    {{ with .Params.Year }}
    <span class="year">Year: {{ . }}</span>
    {{ else }}
    {{/*
      
      {{ errorf "Missing year parameter in shortcode movie-card"}}
      
      */}}
    {{ end }}
    {{ with .Params.Type }}
    | Type: {{ . }}
    {{ end }}
  </div>

  <div class="content">
    {{ .Content}}
  </div>

  <div class="first-watched">
    First watched: 
    {{ with .Params.Date }}
    {{ .Format "02 January, 2006"}}
    {{ else }}
    Not known
    {{ end }}
  </div>

  {{/*
    <!-- 
      {{ if len .Inner | eq 2}}
      <div class="info">
      {{ else }}
        <div class="info-padding-bottom-zero">
      {{ end }}
        {{ if (.Get "dir")}}
        <span class="director">Director: {{ .Get "dir" }} | </span>
        {{end}}
        {{ with .Get "year"}}
        <span class="year">Year: {{ . }}</span>
        {{ else }}
        {{ errorf "Missing year parameter in shortcode movie-card"}}
        {{ end }}
      </div>
    
      {{ if len .Inner | eq 2}}
      {{ else }}
      <div class="tags">
        {{ .Inner }}
      </div>
      {{ end }}
      
    
      {{ if ( .Get "text")}}
      <p class="text">
      {{ .Get "text" | markdownify | emojify }}
      </p>
      {{ end }}
    
      <div class="first-watched">
        First watched: 
        {{ if (.Get "date") }}
        {{ .Get "date" }}
        {{ else }}
        Not known
        {{ end }}
      </div> -->
    
    */}}
</div>